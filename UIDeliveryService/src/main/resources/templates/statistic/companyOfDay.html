<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        window.onload = async function () {
            //responseData
            const data = await axios.get(
                'http://127.0.0.1:5510/api/delivery-service/company/member/allMember')
            console.log(data)
            const memberList = data.data.list;
            console.log(memberList)

            let tBody = document.getElementById("tBody");
            let makeTable = function (dataList) {
                for (i in dataList) {
                    console.log("테이블 만들기 호출")
                    let textNode = document.createTextNode(dataList[i].id);
                    let tdNode = document.createElement("td");
                    tdNode.appendChild(textNode)
                    let textNode2 = document.createTextNode(dataList[i].name);
                    let tdNode2 = document.createElement("td");
                    tdNode2.appendChild(textNode2)

                    let purchaseButton = document.createElement("input");
                    purchaseButton.type = "button"
                    purchaseButton.value = "통계";
                    purchaseButton.id = "statisticButton";

                    let tdNode5 = document.createElement("td");
                    tdNode5.appendChild(purchaseButton);

                    let trNode = document.createElement("tr");
                    trNode.appendChild(tdNode);
                    trNode.appendChild(tdNode2);
                    trNode.appendChild(tdNode5);
                    tBody.appendChild(trNode);
                }
            }
            makeTable(memberList);
        };
    </script>
</head>
<body>
<h2>하루 단위 개별 가게 매출</h2>

<h2>가게 리스트</h2>
<table id="table" border="1">
    <thead>
    <tr>
        <th>멤버 id</th>
        <th>가게 이름</th>
        <th>통계 보기</th>
    </tr>
    </thead>
    <tbody id="tBody">
    </tbody>
</table>
</body>
</html>